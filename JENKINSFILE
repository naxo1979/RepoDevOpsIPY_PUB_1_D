pipeline {
	agent any
		stages {
		  stage('Get Code'){
            steps {
			    sh '''
                    whoami
                    hostname

                '''
				echo WORKSPACE
                git branch: 'develop', url: 'https://github.com/naxo1979/RepoDevOpsIPY_PUB_1_D'
            }
		  }
			stage('Promote'){
			steps {
				sh '''
				git checkout develop
				git show
				git status
				git diff  
				git add . 
				git commit -m "Release"
				git pull origin develop
				git checkout master 
				git pull origin master
				git merge develop
				git push --force https://github.com/naxo1979/RepoDevOpsIPY_PUB_1_D.git --all
				git checkout master 
				git merge develop
				git push --force https://github.com/naxo1979/RepoDevOpsIPY_PUB_1_D.git --all
				'''
			}
		}		
    }	
}		
			
			
